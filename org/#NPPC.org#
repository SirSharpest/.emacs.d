* General Tasks

** TODO Replace battery in Katie's sensor
[[~/Pictures/katieSensor.png]]

** TODO Replace theromocouple sensor in Gravi with a few extra weights 
Possibly add a few at random points around the green house 

* Gravimetrics 
  
** TODO Look at hardware revamps 

There are various things that need done to make the hardware of Gravi suitable for expansion, 
these tasks should correct these issues and create solutions to them to be implemented in the redesign

*** DONE Look at better weight plates 
    CLOSED: [2016-06-16 Thu 14:04]
    
For the weighing problem new more specialised plates may be required? 
    
**** DONE Contact PhenoSpex to ask about their system can measures dynamically to 1g
     CLOSED: [2016-06-07 Tue 09:45]

**** DONE Contact Menachem Moshelion (John's contact in a similar field)
     CLOSED: [2016-06-23 Thu 10:12] DEADLINE: <2016-06-07 Tue>

[[http://departments.agri.huji.ac.il/botany/people/Menachem_Moshelion/][Contact info / Project information]]  


*** DONE Consider moving Pi's to local benches 
    CLOSED: [2016-06-23 Thu 10:12]

** DONE Rewrite Perl functionality in C/C++ 
   CLOSED: [2016-06-23 Thu 10:12]

*** DONE Fully think about how the program will be distributed/deployed on the Pi's 
    CLOSED: [2016-06-16 Thu 14:05]

My current thought is that they will have cronjobs from the master Pi which runs the program over SSH
and use a csv file (same as current, perhaps modify it for ease of use) on the local system as a parameter
 
*** DONE Make mySQL connection easily accessible 
    CLOSED: [2016-06-16 Thu 14:05]

**** DONE Write a SQL wrapper class 
     CLOSED: [2016-06-16 Thu 14:05]

***** DONE Make the SQL wrapper independant enough that it can be run independant if need be
      CLOSED: [2016-06-23 Thu 10:12]
Not 100% sure if it's wise to have several machines making their own connects to a database? 

*** DONE Decide on methods of data storage 
    CLOSED: [2016-06-16 Thu 14:05]
I'll have to look at the possiblity of storing data locally on each Pi as well as in the Database
or just have it all centralised

*** DONE Look at the C function stat() for sym link checking
    CLOSED: [2016-06-16 Thu 14:05]
Just a thought but I think that using the C program to determine what symbolic links it has access to
for the balances and the scales. [[http://linux.die.net/man/2/stat][Stat function link ]] 

*** DONE Solenoid functionality in C++ 
    CLOSED: [2016-06-23 Thu 10:13]
Interacting with the relays and solenoids needs rewritten in C/C++ 
*** TODO Testing of the new* system needs done 

** TODO Proposal for new system needs written up 
*** TODO Outline system redesign 
Briefly talk about what the system currently does and then talk about why it needs improved. 
Talk about what a new system could do better over the current system. 
*** TODO Diagrams 
We need diagrams to fully express and plan out the development of the new program and its 
hardware interactions 
**** TODO Diagram of how Pi's interact 
A full networking diagram will be required to show exactly how the pi's talk to each other
outline of cabling and protocols should also be used
**** TODO Check how many pins are currently used per pi and how many would be used in new setup 
Also check USB counts and any other possible connections 
**** TODO Flow diagram of code interaction 
**** TODO Circuit diagrams of entire network 
*** TODO Discuss hardware issues 
This mostly needs to be about: 
 - the relays having multiple points of failure
 - so many cables everywhere the system is hard to keep track of 
 - connections too close and easy to short circuit 
 - overhead rails makes it impossible for taller plants to use gravi (restricts light) 
**** TODO Find solution of lower benches
***** DONE Measure current benches 
      CLOSED: [2016-06-16 Thu 14:44]
| Dimension                 | Width | Height | Depth |
| Bench                     | 130cm | 150cm  | 53cm  |
| Gap between benches       |       |        | 45cm  |
| Total dimensions taken up |       |        | 15M   |
Where this is the measurements for 1/2 a bench as there are currently two benches in a row 
with two rows making up a collection holding 16 plant pots! 
***** TODO Measure load cell dimensions...  
***** TODO Find ideas of possible benches!       
**** TODO Find solution to overhead watering 
Do the current pipes stretch to go under the benches?
A: Yes they do! 
*** TODO Check if the serial -> usb cables are still useable? 
Currently the USB cables look rather "cut up" and not 100% reliable IMO. 
**** TODO Heatshrink the cables! 
*** IP66 rated boxes! 
Water proof boxes essentially! 
For the Pi's 
**** TODO Measure USB Hubs and check that them along with Pi's (and breakout boards) would fit in box 
*** TODO Look at the cables for temperature sensors and see if reusable 
**** TODO Check if there is enough temperature sensors 
*** DONE Look at power-over-ethernet for Pi's 
    CLOSED: [2016-06-17 Fri 13:07]
No, can't do it cheaply :( 
*** DONE Look at the 12v power and where it comes from, as well as how it'll be routed around!
    CLOSED: [2016-06-17 Fri 13:18]
Comes from the main pannel  
*** DONE USB Hub power and where it comes from and is it enough
    CLOSED: [2016-06-24 Fri 10:09]
*** TODO Look at what's needed for a proper test bench! (look at having two Pi's to show how they would network) 
*** TODO Check what Pi opens the master valves at the end of each bench
*** TODO Write out a physical flow diagram of all components for watering 
*** TODO Look at a 555 chip 

** TODO Core functionality in C++ and interface in Python

*** TODO Make Watering to weight a single program
*** TODO Make Balance reading a single program 
*** TODO Write a Python program to fulfil 
